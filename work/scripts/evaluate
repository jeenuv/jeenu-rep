#!/bin/bash

eval set -- $(getopt -o "xo" -- "$@")

f=d
until [ -z "$*" ]; do
    case "$1" in
        -x)
        f=x
        ;;

        -o)
        f=o
        ;;

        --)
        shift
        break
        ;;
    esac

    shift
done

if [ -z "$*" ]; then
    echo "\
Usage: evaluate [-xo] expression [expression [...]]
    -x      Print result in hex
    -o      Print result in octal
Results are printed in decimal by default"
    exit 1
fi

for i; do
    let "x = $i"
    eval "printf \"\$i: %#$f\\n\" \"\$x\""
done
